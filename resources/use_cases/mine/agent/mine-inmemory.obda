[PrefixDeclaration]
:		https://faculty.ozyegin.edu.tr/muratsensoy/mine-ontology#
owl:		http://www.w3.org/2002/07/owl#
rdf:		http://www.w3.org/1999/02/22-rdf-syntax-ns#
xml:		http://www.w3.org/XML/1998/namespace
xsd:		http://www.w3.org/2001/XMLSchema#
rdfs:		http://www.w3.org/2000/01/rdf-schema#

[SourceDeclaration]
sourceUri	datasource1
connectionUrl	jdbc:h2:mem:inmemory_mine
username	iot
password	iot
driverClass	org.h2.Driver

[MappingDeclaration] @collection [[
mappingId	Vehicle Tags
target		:tag{tag_id} a :VehicleTag . 
source		select tag_id from tbl_vehicles

mappingId	Badge Tags
target		:tag{tag_id} a :BadgeTag . 
source		select tag_id from tbl_employees

mappingId	Asset Tags
target		:tag{tag_id} a :AssetTag . 
source		select tag_id from tbl_assets

mappingId	Employees
target		:employee{employee_id} a :Employee ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select employee_id, tag_id, auth_level, region from tbl_employees

mappingId	Drillers
target		:employee{employee_id} a :Driller ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select "employee_id", "tag_id", "auth_level", region from tbl_employees where role = 1

mappingId	Operators
target		:employee{employee_id} a :Operator ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select "employee_id", "tag_id", "auth_level", region from tbl_employees where role = 2

mappingId	Engineers
target		:employee{employee_id} a :Engineer ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select "employee_id", "tag_id", "auth_level", region from tbl_employees where role = 3

mappingId	Drivers
target		:employee{employee_id} a :Driver ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select "employee_id", "tag_id", "auth_level", region from tbl_employees where role = 4

mappingId	Blasters
target		:employee{employee_id} a :Blaster ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select "employee_id", "tag_id", "auth_level", region from tbl_employees where role = 5

mappingId	SensorReadings
target		:region{region_id} a :Region ; :oxygen {oxygen} ; :carbonmonoxide {carbonmonoxide} ; :temperature {temperature} ; :humidity {humidity} ; :methane {methane} . 
source		select region_id, oxygen, carbonmonoxide, temperature, humidity from tbl_regions;

mappingId	Regions
target		:region{region_id} a :Region ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions

mappingId	Corridors
target		:region{region_id} a :Corridor ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions where type = 1

mappingId	Safe Zones
target		:region{region_id} a :SafeZone ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions where type = 2

mappingId	Hazardous Zones
target		:region{region_id} a :HazardousZone ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions where type = 5

mappingId	Mining Zones
target		:region{region_id} a :MiningZone ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions where type = 3

mappingId	Vehicles
target		:vehicle{vehicle_id} a :Vehicle ; :hasTag :tag{tag_id} ; :width {width} ; :height {height} ; :inRegion :region{region} . 
source		select * from tbl_vehicles

mappingId	LHD Loaders
target		:vehicle{vehicle_id} a :LHDLoader ; :hasTag :tag{tag_id} ; :width {width} ; :height {height} ; :inRegion :region{region} . 
source		select * from tbl_vehicles where type = 1

mappingId	Drilling Vehicles
target		:vehicle{vehicle_id} a :DrillerVehicle ; :hasTag :tag{tag_id} ; :width {width} ; :height {height} ; :inRegion :region{region} . 
source		select * from tbl_vehicles where type = 2

mappingId	Scalers
target		:vehicle{vehicle_id} a :Scaler ; :hasTag :tag{tag_id} ; :width {width} ; :height {height} ; :inRegion :region{region} . 
source		select * from tbl_vehicles where type = 3

mappingId	Transporters
target		:vehicle{vehicle_id} a :Transporter ; :hasTag :tag{tag_id} ; :width {width} ; :height {height} ; :inRegion :region{region} . 
source		select * from tbl_vehicles where type = 4

mappingId	Rock Flows
target		:vehicle{vehicle_id} a :RockFlow ; :hasTag :tag{tag_id} ; :width {width} ; :height {height} ; :inRegion :region{region} . 
source		select * from tbl_vehicles where type = 5

mappingId	Assets
target		:asset{asset_id} a :Asset ; :hasTag :tag{tag_id} ; :errorCode {err_code} ; :status {status} ; :inRegion :region{region} ; :assignedTo :region{assigned_region} . 
source		select * from tbl_assets

mappingId	Oxygen Masks
target		:asset{asset_id} a :OxygenMask ; :hasTag :tag{tag_id} ; :errorCode {err_code} ; :status {status} ; :inRegion :region{region} ; :assignedTo :region{assigned_region} . 
source		select * from tbl_assets where type = 1

mappingId	Explosives
target		:asset{asset_id} a :Explosive ; :hasTag :tag{tag_id} ; :errorCode {err_code} ; :status {status} ; :inRegion :region{region} ; :assignedTo :region{assigned_region} . 
source		select * from tbl_assets where type = 2

mappingId	Hand-Held Drillers
target		:asset{asset_id} a :HandHeldDriller ; :hasTag :tag{tag_id} ; :errorCode {err_code} ; :status {status} ; :inRegion :region{region} ; :assignedTo :region{assigned_region} . 
source		select * from tbl_assets where type = 3

mappingId	Fire Extinguishers
target		:asset{asset_id} a :FireExtinguisher ; :hasTag :tag{tag_id} ; :errorCode {err_code} ; :status {status} ; :inRegion :region{region} ; :assignedTo :region{assigned_region} . 
source		select * from tbl_assets where type = 4

mappingId	Restricted Zones
target		:region{region_id} a :RestrictedZone ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions where type = 4

mappingId	Low Oxygen Risk
target		:danger{region}_{type} a :LowOxygen . 
source		select * from tbl_dangers where type = 4

mappingId	Fire Danger
target		:danger{region}_{type} a :Fire . 
source		select * from tbl_dangers where type = 2

mappingId	High CarbonMonoxide Exposure
target		:danger{region}_{type} a :CarbonMonoxideExposure . 
source		select * from tbl_dangers where type = 1

mappingId	Explosion Risk
target		:danger{region}_{type} a :ExplosionRisk . 
source		select * from tbl_dangers where type = 3

mappingId	Flashlights
target		:asset{asset_id} a :Flashlight ; :hasTag :tag{tag_id} ; :errorCode {err_code} ; :status {status} ; :inRegion :region{region} ; :assignedTo :region{assigned_region} . 
source		select *from tbl_assets where type = 5

mappingId	Has Explosives
target		:region{region} :hasExplosives :asset{asset_id} . 
source		select region, asset_id from tbl_assets WHERE type = 2;

mappingId	Has Danger
target		:region{region} a :Region ; :hasDanger :danger{region}_{type} . 
source		select * from tbl_dangers;

mappingId	Fireman
target		:employee{employee_id} a :Fireman ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select "employee_id", "tag_id", "auth_level", region from tbl_employees where role = 6

mappingId	Employer
target		:employee{employee_id} a :Employer ; :authorizationLevel {auth_level} ; :hasTag :tag{tag_id} ; :inRegion :region{region} ; :panic {panic} ; :motionAlarm {motion_alarm} . 
source		select * from tbl_employees where auth_level = 5

mappingId	Explosion Zones
target		:region{region_id} a :ExplosionZone ; :x {x} ; :y {y} ; :height {height} ; :width {width} ; :length {length} . 
source		select * from tbl_regions where type = 6
]]

